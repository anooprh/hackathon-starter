<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">

    <title>TA Hours for <%= timeslot %></title>
    <style>
        table, th, td {
            border: 1px solid black;
        }
        body {
            background-image: url('https://raw.githubusercontent.com/anooprh/hackathon-starter/master/public/img/backgrounds.jpg');
            background-repeat: no-repeat;
            background-size: cover;
        }

        .question_box {
            background-image: url('https://raw.githubusercontent.com/anooprh/hackathon-starter/master/public/img/backgrounds.jpg/singlebutton.png');
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
    <script>
        $(document).ready(function () {
            $("#new-question-box").hide();
            $("#add-question-btn").click(function () {
                $("#new-question-box").show();
            });
            $("#new-question-submit-box").click(function () {
                $.ajax({
                    type: "POST",
                    url: "/ta_hours/2/new_question",
                    data: {
                        "question" : $("#new-question-text").val(),
                        "posted_by" : "the great"
                    }
                })
            });
            $(".question_upvote_box").click(function () {
                var url = "/ta_hours/2/question_upvote/" + $(this).attr('qid');
                $.ajax({
                    type: "POST",
                    url: url,
                    data: {
                        "posted_by" : "the great"
                    }
                })
            });
        });
    </script>
</head>
<body bgcolor="#FFFFFF" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<header>
    <!--TA Name : <%= ta_name %>-->
    <!--<hr/>-->
    <!--Time : <%= timeslot %>-->
    <!--<hr/>-->
    <!--Place : <%= place %>-->
    <!--<hr/>-->
</header>
<div class="container">
    <table>
        <!--<tr>-->
            <!--<td>Question Number</td>-->
            <!--<td>Question</td>-->
            <!--<td>Posted By</td>-->
            <!--<td>-->
                <!--Upvoted by-->
            <!--</td>-->
        <!--</tr>-->

        <% for(var i = 0; i < questions.length; i++) { %>
        <tr>
            <td>
            <img src="https://raw.githubusercontent.com/anooprh/hackathon-starter/master/public/img/backgrounds.jpg/singlebutton.png" alt="Image"/>
            <div class="question_box">
                <%= questions[i].question %>
            </div>
            </td>
            <!--<td>Question <%= i %></td>-->
            <!--<td><%= questions[i].question %></td>-->
            <!--<td><%= questions[i].posted_by %></td>-->
            <!--<td>-->
                <!--<% for(var j = 0; j < questions[i].upvoted_by.length; j++) { %>-->
                <!--<%= questions[i].upvoted_by[j] %> ,-->
                <!--<% } %>-->
            <!--</td>-->
            <!--<td>-->
                <!--<button class="question_upvote_box" qid="<%= i %>">Me too!</button>-->
            <!--</td>-->
        </tr>
        <% } %>
    </table>
    <button id="add-question-btn">Add Question</button>
    <div id="new-question-box">
        <textarea id="new-question-text" cols="20" rows="20"></textarea>
        <button id="new-question-submit-box">Submit</button>
    </div>
</div>
</body>
</html>